<Module> <ModulePrefs title="Code Wrapper" description="A gadget to insert your embed code / a gadget to embed HTML and JavaScript" width="100" height="100" author="Mori" author_email="mori79+gadgets@gmail.com"> <Require feature="dynamic-height"/> <Require feature="setprefs"/> </ModulePrefs> <UserPref name="code" display_name="Embed code" required="true"/> <Content type="html" view="home"> <![CDATA[<!-- ALm6fM3gLiy2qx64xDuAecIw7gCnT/sl+1oCN3arb/9rjVnacjSgHz2Y8W5egsB1UHPTZ15He1H7wCurv//vDyhkIWNxLP9XyMr4aFWAL2QpBiSsxXzh4OFeZyajOkRfUaTFOybXy6cIL0Hw7Q7lPDBguzzyDw5/6udc/712AC0TrWWeC1EDoisJQeNFGVwRk+TlDGCNkd/4 --> <style type="text/css"> body {background:transparent;} </style> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script> <div id="contents"></div> <script type="text/javascript"> function onLoad() { var prefs = new _IG_Prefs(); $("#contents").html(prefs.getString('code')); } gadgets.util.registerOnLoadHandler(onLoad); </script>]]> </Content> <Content type="html" view="configuration" preferred_height="250"> <![CDATA[<style type="text/css"> p {font-weight:bold;} textarea {width:100%; height:200px; font-family:monospace; color:#006000; background-color:#efefef; border:0px solid #d3d3d3; padding:-1px -1px;} </style> <p>Embed Code:</p> <textarea id="code" rows="1" cols="1">__UP_code__</textarea> <script type="text/javascript"> function registerHandlers() { var prefs = new gadgets.Prefs(); var pref = document.getElementById('code'); var handler = function() { prefs.set('code', document.getElementById('code').value); }; pref.onchange = handler; pref.onkeyup = handler; } gadgets.util.registerOnLoadHandler(registerHandlers); </script>]]> </Content></Module>
